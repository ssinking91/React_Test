### ğŸ’« React_Test(Jest)

---

```jsx
# npm install
yarn install ë˜ëŠ” yarn

# npm i <package> --save
yarn add <package>

# npm i <package> --save-dev
yarn add <package> --dev : --dev ì˜µì…˜ì€ -D ì™€ ê°™ë‹¤.

# íŒ¨í‚¤ì§€ ì‚­ì œ
yarn remove <package>

# dependenciesì™€ devDependencies ëª¨ë‘ (package.json ì— ëª…ì‹œëœ) version rule ì— ë”°ë¼ ìµœì‹  ë²„ì „ìœ¼ë¡œ ì—…ê·¸ë ˆì´ë“œ.
# ë§Œì•½ ì–´ë–¤ íŒ¨í‚¤ì§€ê°€ semantic versioning([segVer](https://github.com/semver/semver/blob/master/semver.md))ë¥¼
# ë”°ë¥´ì§€ ì•ŠëŠ”ë‹¤ë©´, version ruleì´ ë¬´ìƒ‰í•´ì ¸ í•˜ìœ„ í˜¸í™˜ì„±ì´ ë³´ì¥ë˜ì§€ ì•ŠëŠ” ì—…ê·¸ë ˆì´ë“œì¼ ìˆ˜ë„ ìˆë‹¤.
yarn upgrade

# íŠ¹ì • íŒ¨í‚¤ì§€ë¥¼ íŠ¹ì • ë²„ì „ìœ¼ë¡œ ì—…ê·¸ë ˆì´ë“œ
yarn upgrade <package>@<version>

# ëª©ë¡ë“¤ ì¤‘ì—ì„œ ì›í•˜ëŠ” íŒ¨í‚¤ì§€ë§Œ ìµœì‹ ë²„ì „ìœ¼ë¡œ ì—…ê·¸ë ˆì´ë“œí•˜ëŠ” interactive terminal ui ë¥¼ ì œê³µí•œë‹¤.
yarn upgrade-interactive

# production í™˜ê²½ì„œ í•„ìš”í•œ dependencies ë§Œ ì„¤ì¹˜
NODE_ENV=production yarn install ë˜ëŠ” yarn install --production
```

---

<br />

### ğŸ›  1. í…ŒìŠ¤íŒ…ì˜ ì´ìœ 

<br />

- âœ”ï¸ ì™œ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ TEST í•´ì•¼ í• ê¹Œ?

> ê°„ë‹¨í•˜ê²Œ ë” ì•ˆì •ì ì¸ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ìœ„í•´ì„œëŠ” ì—¬ëŸ¬ ë°©ë²•ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ë¥¼ í•´ì¤˜ì•¼ ë” ì•ˆì •ì ì¸ ì–´í”Œë¦¬ì¼€ì´ì…˜ì´ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
> <br/>

<br />

- âœ”ï¸ í…ŒìŠ¤íŒ…ìœ¼ë¡œ ì–»ëŠ” ì´ì ì€ ë¬´ì—‡ì¼ê¹Œ?

> (1) ë””ë²„ê¹… ì‹œê°„ì„ ë‹¨ì¶•! ë§Œì•½ ë°ì´í„°ê°€ ì˜ëª» ë‚˜ì™”ë‹¤ë©´ ê·¸ê²ƒì´ UIì˜ ë¬¸ì œì¸ì§€ DBì˜ ë¬¸ì œì¸ì§€ë“± ì „ë¶€ í…ŒìŠ¤íŠ¸ë¥¼ í•´ë´ì„œ ì°¾ì•„ì•¼ í•˜ëŠ”ë° í…ŒìŠ¤íŒ… í™˜ê²½ì´ êµ¬ì¶•ë˜ì–´ìˆë‹¤ë©´ ìë™í™” ëœ ìœ ë‹› í…ŒìŠ¤íŒ…ìœ¼ë¡œ íŠ¹ì • ë²„ê·¸ë¥¼ ì‰½ê²Œ ì°¾ì•„ ë‚¼ ìˆ˜ìˆìŠµë‹ˆë‹¤.
> <br/>
>
> (2) ë”ìš± ì•ˆì •ì ì¸ ì–´í”Œë¦¬ì¼€ì´ì…˜! ë§ì€ í…ŒìŠ¤íŠ¸ ì½”ë“œì™€ í•¨ê»˜ ì‘ì„±ëœ ì½”ë“œì˜ ì–´í”Œ
> ë¦¬ì¼€ì´ì…˜ì´ ë˜ê¸° ë•Œë¬¸ì— í›¨ì”¬ ì•ˆì •ì ì¸ ì–´í”Œë¦¬ì¼€ì´ì…˜ì´ ë©ë‹ˆë‹¤.
> <br/>
>
> (3) ì´ë°–ì—ë„ ì¬ì„¤ê³„ ì‹œê°„ì˜ ë‹¨ì¶•, ì¶”ê°€ë¡œ ë¬´ì–¸ê°€ë¥¼ ë” êµ¬í˜„í•´ì•¼ í•  ë•Œ ë” ìš©ì´í•˜
> ê²Œ í•  ìˆ˜ ìˆëŠ” ë“±ì˜ ì´ì ë“¤ì´ ìˆìŠµë‹ˆë‹¤.
> <br />

<br />

- âœ”ï¸ React Testing Libraryë€ ë¬´ì—‡ì¸ê°€?

  - Enzyme -> êµ¬í˜„ ì£¼ë„ í…ŒìŠ¤íŠ¸(Implementation Driven Test)

  - React Testing Library -> í–‰ìœ„ ì£¼ë„ í…ŒìŠ¤íŠ¸(Behavior Driven Test)

> React Testing LibraryëŠ” React êµ¬ì„± ìš”ì†Œ ì‘ì—…ì„ ìœ„í•œ APIë¥¼ ì¶”ê°€í•˜ì—¬ DOM Testing Library ìœ„ì— êµ¬ì¶•ë©ë‹ˆë‹¤. DOM Testing Libraryë€ Dom ë…¸ë“œ(Node)ë¥¼ í…ŒìŠ¤íŠ¸í•˜ê¸° ìœ„í•œ ë§¤ìš° ê°€ë²¼ìš´ ì†”ë£¨ì…˜ì…ë‹ˆë‹¤. Create React Appìœ¼ë¡œ ìƒì„±ëœ í”„ë¡œì íŠ¸ëŠ” ì¦‰ì‹œ React Testing Libraryë¥¼ ì§€ì›í•©ë‹ˆë‹¤. ê·¸ë ‡ì§€ ì•Šì€ ê²½ìš° ë‹¤ìŒê³¼ ê°™ì´ npmì„ í†µí•´ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br/><br/>
> npm install --save-dev @testing-library/react<br/><br/>
> React Testing LibraryëŠ” ì—ì–´ë¹„ì•¤ë¹„ì—ì„œ ë§Œë“  Enzymeì„ ëŒ€ì²˜í•˜ëŠ” ì†”ë£¨ì…˜ ì…ë‹ˆë‹¤. Enzymeì´ êµ¬ì„± ìš”ì†Œì˜ êµ¬í˜„ ì„¸ë¶€ ì •ë³´ë¥¼ í…ŒìŠ¤íŠ¸í•˜ëŠ” ëŒ€ì‹  React Testing Library ê°œë°œìë¥¼ React ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì‚¬ìš©ì ì…ë‹ˆë‹¤.
> êµ¬í˜„ ì£¼ë„ í…ŒìŠ¤íŠ¸ì—ì„œëŠ” ìœ„ì˜ UIë¥¼ í…ŒìŠ¤íŠ¸í•  ë•Œ ì£¼ë¡œ `<p>` íƒœê·¸ê°€ ì“°ì˜€ê³  Edit ë“±ì˜ ë¬¸ìê°€ ë“¤ì–´ê°”ë‹¤ëŠ”ê²ƒì„ í…ŒìŠ¤íŠ¸í•©ë‹ˆë‹¤. ê·¸ë˜ì„œ ë§Œì•½ `<p>`íƒœê·¸ë¥¼ `<h2>` íƒœê·¸ë¡œ ë°”ë€Œë©´ ì—ëŸ¬ê°€ ë‚  ê²ƒì…ë‹ˆë‹¤. í•˜ì§€ë§Œ í–‰ë™ ì£¼ë„ í…ŒìŠ¤íŠ¸ì—ì„œëŠ” ì‚¬ìš©ìì˜ ì…ì¥ì—ì„œ í…ŒìŠ¤íŠ¸ í•˜ê¸°ì— `<p>`íƒœê·¸ê°€ ì“°ì´ë˜ `<h3>` íƒœê·¸ê°€ ì“°ì—¬ì„œ ê¸€ì„ í‘œí˜„í•˜ëŠ”ì§€ê°€ ì¤‘ìš”í•œì§€ ë³´ë‹¤ ì–´ë– í•œ ì´ë²¤íŠ¸ë¥¼ ë°œìƒì‹œì¼°ì„ë•Œ í™”ë©´ì´ ì–´ë–»ê²Œ ë³€í™”ê°€ ë˜ëŠ”ì§€ ê°™ì€ í…ŒìŠ¤íŠ¸ê°€ ë” ì£¼ë¥¼ ì´ë£¨ê²Œ ë©ë‹ˆë‹¤

<br />

- âœ”ï¸ Jestë€ ë¬´ì—‡ì¸ê°€?

  - FaceBookì— ì˜í•´ì„œ ë§Œë“¤ì–´ì§„ í…ŒìŠ¤íŒ… í”„ë ˆì„ ì›Œí¬ì…ë‹ˆë‹¤. ìµœì†Œí•œì˜ ì„¤ì •ìœ¼ë¡œ ë™ì‘í•˜ë©° Test Case ë¥¼ ë§Œë“¤ì–´ì„œ ì–´í”Œë¦¬ì¼€ì´ì…˜ ì½”ë“œê°€ ì˜ ëŒì•„ê°€ëŠ”ì§€ í™•ì¸í•´ì¤ë‹ˆë‹¤. ë‹¨ìœ„ (Unit) í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ì„œ ì´ìš©í•©ë‹ˆë‹¤.

  - Jestê°€ Test íŒŒì¼ì„ ì°¾ëŠ” ë°©ë²• : `{filename}.test.js` / `{filename}.spec.js` / `All files inside " tests " folders`

  - Jest íŒŒì¼ êµ¬ì¡° & ì‚¬ìš©ë²•

    - "describe" : ì—¬ëŸ¬ ê´€ë ¨ í…ŒìŠ¤íŠ¸ë¥¼ ê·¸ë£¹í™”í•˜ëŠ” ë¸”ë¡ì„ ë§Œë“­ë‹ˆë‹¤.

    - "it" : ê°œë³„ í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰í•˜ëŠ” ê³³. ê° í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì€ ë¬¸ì¥ì²˜ëŸ¼ ì„¤ëª…í•©ë‹ˆë‹¤.

    - "expect" : expect í•¨ìˆ˜ëŠ” ê°’ì„ í…ŒìŠ¤íŠ¸í•  ë•Œë§ˆë‹¤ ì‚¬ìš©ë©ë‹ˆë‹¤. ê·¸ë¦¬ê³  expect í•¨ìˆ˜ í˜¼ìì„œëŠ” ê±°ì˜ ì‚¬ìš© ë˜ì§€ ì•Šìœ¼ë©° matcherì™€ í•¨ê»˜ ì‚¬ìš©ë©ë‹ˆë‹¤.

    - "matcher" : ë‹¤ë¥¸ ë°©ë²•ìœ¼ë¡œ ê°’ì„ í…ŒìŠ¤íŠ¸ í•˜ë„ë¡ "matcher"ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

    - "render" : DOMì— ì»´í¬ë„ŒíŠ¸ë¥¼ ëœë”ë§í•˜ëŠ” í•¨ìˆ˜ / ì¸ìë¡œ ëœë”ë§í•  React ì»´í¬ë„ŒíŠ¸ê°€ ë“¤ì–´ê°

    - ì¿¼ë¦¬ í•¨ìˆ˜ : í˜ì´ì§€ì—ì„œ ìš”ì†Œë¥¼ ì°¾ê¸° ìœ„í•´ í…ŒìŠ¤íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ì œê³µí•˜ëŠ” ë°©ë²• / ì—¬ëŸ¬ ìœ í˜•ì˜ ì¿¼ë¦¬("get", "find", "query") - ì´ë“¤ ê°„ì˜ ì°¨ì´ì ì€ ìš”ì†Œê°€ ë°œê²¬ë˜ì§€ ì•Šìœ¼ë©´ ì¿¼ë¦¬ì—ì„œ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ëŠ”ì§€ ë˜ëŠ” Promiseë¥¼ ë°˜í™˜í•˜ê³  ë‹¤ì‹œ ì‹œë„í•˜ëŠ”ì§€ ì—¬ë¶€

      - "getBy..." : ì¿¼ë¦¬ì— ëŒ€í•´ ì¼ì¹˜í•˜ëŠ” ë…¸ë“œë¥¼ ë°˜í™˜í•˜ê³  **ì¼ì¹˜í•˜ëŠ” ìš”ì†Œê°€ ì—†ê±°ë‚˜ ë‘˜ ì´ìƒì˜ ì¼ì¹˜ê°€ ë°œê²¬ë˜ë©´ ì„¤ëª… ì˜¤ë¥˜ë¥¼ ë°œìƒ**ì‹œí‚µë‹ˆë‹¤(ë‘˜ ì´ìƒì˜ ìš”ì†Œê°€ ì˜ˆìƒë˜ëŠ” ê²½ìš° ëŒ€ì‹  getAllBy ì‚¬ìš©).

      - "queryBy..." : ì¿¼ë¦¬ì— ëŒ€í•´ ì¼ì¹˜í•˜ëŠ” ë…¸ë“œë¥¼ ë°˜í™˜í•˜ê³  **ì¼ì¹˜í•˜ëŠ” ìš”ì†Œê°€ ì—†ìœ¼ë©´ nullì„ ë°˜í™˜**í•©ë‹ˆë‹¤. ì´ê²ƒì€ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ìš”ì†Œë¥¼ ì–´ì„¤ì…˜í•˜ëŠ” ë° ìœ ìš©í•©ë‹ˆë‹¤. ë‘˜ ì´ìƒì˜ ì¼ì¹˜ í•­ëª©ì´ ë°œê²¬ë˜ë©´ ì˜¤ë¥˜ê°€ ë°œìƒí•©ë‹ˆë‹¤(í™•ì¸ëœ ê²½ìš° ëŒ€ì‹  queryAllBy ì‚¬ìš©).

      - "findBy..." : ì£¼ì–´ì§„ ì¿¼ë¦¬ì™€ **ì¼ì¹˜í•˜ëŠ” ìš”ì†Œê°€ ë°œê²¬ë˜ë©´ Promiseë¥¼ ë°˜í™˜**í•©ë‹ˆë‹¤. ìš”ì†Œê°€ ë°œê²¬ë˜ì§€ ì•Šê±°ë‚˜ ê¸°ë³¸ ì œí•œ ì‹œê°„ì¸ 1000 í›„ì— ë‘˜ ì´ìƒì˜ ìš”ì†Œê°€ ë°œê²¬ë˜ë©´ ì•½ì†ì´ ê±°ë¶€ë©ë‹ˆë‹¤. ë‘˜ ì´ìƒì˜ ìš”ì†Œë¥¼ ì°¾ì•„ì•¼ í•˜ëŠ” ê²½ìš° findAllByë¥¼ ì‚¬ìš©í•˜ì‹­ì‹œì˜¤. / `findBy = getBy + waitFor`

      - "waitFor" : ì¼ì • ê¸°ê°„ ë™ì•ˆ ê¸°ë‹¤ë ¤ì•¼ í•  ë•Œ waitForë¥¼ ì‚¬ìš©í•˜ì—¬ ê¸°ëŒ€ê°€ í†µê³¼í•  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

    <br />

<br />

### ğŸ”¨Â 2. ì‹¤í–‰ë°©ë²•

- npx create-react-app react-test-app

<br/>

- npm install jest --save-dev

<br/>

- npm test

<br/>

- Eslint ì„¤ì • íŒŒì¼ ìƒì„±

  1. package.jsonì— eslintConfig ë¶€ë¶„ ì œê±°

  2. .eslintrc.json íŒŒì¼ ìƒì„±

  3. ì¼ë°˜ì ì¼ë•Œ

     - eslint-plugin-react

     - eslint-plugin-react-hooks

     - npm eslint-plugin-react eslint-plugin-react-hooks --save-dev

  4. React_Testì¼ë•Œ

     - eslint-plugin-testing-library : renderë¡œ Dom ê·¸ë¦¬ëŠ” ë¶€ë¶„

     - eslint-plugin-jest-dom : expect-matcherë¡œ í…ŒìŠ¤íŠ¸

     - npm install eslint-plugin-testing-library eslint-plugin-jest-dom --save-dev

     ```javascript
     // src/eslintrc.json

     {
        "plugins": ["testing-library", "jest-dom"],
        "extends": [
        "react-app",
        "react-app/jest",
        "plugin:testing-library/react",
        "plugin:jest-dom/recommended"
        ]
     }

     ```

<br/>
